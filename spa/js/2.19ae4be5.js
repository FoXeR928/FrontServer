(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"713b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",[i("q-toolbar",[i("q-toolbar-title",{staticClass:"flex flex-center"},[i("img",{staticStyle:{"max-width":"270px",padding:"20px"},attrs:{src:a("75e0")}})])],1)],1),i("q-page-container",{staticClass:"flex flex-center",staticStyle:{margin:"50px 0"}},[i("section",{staticClass:"section-add_flask -section",attrs:{id:"all"}},[i("nav",{staticClass:"flex flex-center"},[i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",icon:"home"},on:{click:function(t){e.show=!1,e.show_all=!0,e.show_get=!1,e.show_give=!1,e.show_search=!1}}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Добавить флешку"},on:{click:function(t){e.show=!0,e.show_all=!1,e.show_get=!1,e.show_give=!1,e.show_search=!1}}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Выдать флешку"},on:{click:function(t){e.show_give=!0,e.show_all=!1,e.show=!1,e.show_get=!1,e.show_search=!1}}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Вернуть флешку"},on:{click:function(t){e.show_get=!0,e.show_all=!1,e.show=!1,e.show_give=!1,e.show_search=!1}}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Найти флешку"},on:{click:function(t){e.show=!1,e.show_all=!1,e.show_get=!1,e.show_give=!1,e.show_search=!0}}})],1),e.show_all?i("form",{attrs:{action:"",method:"GET"}},[i("q-input",{attrs:{"bottom-slots":"",label:"Поиск по имени"},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.fio?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.fio=""}}}):e._e()]},proxy:!0},{key:"after",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:function(t){return e.search_device_fio(e.fio)}}})]},proxy:!0}],null,!1,1199146278),model:{value:e.fio,callback:function(t){e.fio=t},expression:"fio"}}),i("q-input",{attrs:{"bottom-slots":"",type:"number",label:"Поиск по табельному номеру"},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.tabnum?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.tabnum=""}}}):e._e()]},proxy:!0},{key:"after",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:function(t){return e.search_device_tabnum(e.tabnum)}}})]},proxy:!0}],null,!1,1395192934),model:{value:e.tabnum,callback:function(t){e.tabnum=t},expression:"tabnum"}}),i("q-input",{attrs:{"bottom-slots":"",label:"Поиск по id"},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.device_id?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.device_id=""}}}):e._e()]},proxy:!0},{key:"after",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:function(t){return e.search_device_id(e.device_id)}}})]},proxy:!0}],null,!1,447292545),model:{value:e.device_id,callback:function(t){e.device_id=t},expression:"device_id"}})],1):e._e(),e.show?i("form",{staticClass:"q-gutter-md column items-start flex flex-center",staticStyle:{margin:"1px 0"},attrs:{enctype:"multipart/form-data",id:"uploadForm",method:"POST"}},[i("q-input",{attrs:{multiple:"",filled:"",type:"file",hint:"Файл txt"},on:{input:function(t){e.files=t}},model:{value:e.file_txt,callback:function(t){e.file_txt=t},expression:"file_txt"}}),i("q-input",{attrs:{multiple:"",filled:"",type:"file",hint:"Файл reg"},on:{input:function(t){e.files=t}},model:{value:e.file_reg,callback:function(t){e.file_reg=t},expression:"file_reg"}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Добавить"},on:{click:function(t){return e.add_flask(e.file_txt,e.file_reg)}}})],1):e._e(),e.show_give?i("form",{attrs:{method:"PUT"}},[i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{label:"id флешки"},model:{value:e.device_id,callback:function(t){e.device_id=t},expression:"device_id"}})],1),i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{label:"ФИО получателя"},model:{value:e.fio,callback:function(t){e.fio=t},expression:"fio"}})],1),i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{type:"number",label:"Табельный номер получателя"},model:{value:e.tabnum,callback:function(t){e.tabnum=t},expression:"tabnum"}})],1),i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{label:"Депортамет получателя"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),i("div",{staticClass:"flex flex-center",staticStyle:{margin:"20px"}},[i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Выдать"},on:{click:function(t){return e.give_flask(e.device_id,e.fio,e.tabnum,e.department)}}})],1)]):e._e(),e.show_get?i("form",{attrs:{method:"DELETE"}},[i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{label:"id флешки"},model:{value:e.device_id,callback:function(t){e.device_id=t},expression:"device_id"}})],1),i("div",{staticClass:"flex flex-center",staticStyle:{margin:"20px"}},[i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Вернуть"},on:{click:function(t){return e.get_flask(e.device_id)}}})],1)]):e._e(),e.show_search?i("form",{attrs:{action:"",method:"GET"}},[i("div",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{label:"id флешки"},model:{value:e.device_id,callback:function(t){e.device_id=t},expression:"device_id"}})],1),i("div",{staticClass:"flex space-between",staticStyle:{"justify-content":"space-between",margin:"10px 0"}},[i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Поиск данных флешки"},on:{click:function(t){return e.search_date(e.device_id)}}}),i("q-btn",{staticClass:"btn-fixed-width",attrs:{align:"center",color:"primary",label:"Списанные флешки"},on:{click:function(t){return e.search_off()}}})],1)]):e._e(),[i("div",{staticClass:"q-pa-md"},[i("q-table",{attrs:{data:e.data,columns:e.columns,"row-key":"name"}})],1)]],2)])],1)},l=[],n=a("bc3a"),s=a.n(n),o={data(){return{device_id:"",file_txt:"",file_reg:"",fio:"",tabnum:"",department:"",result:s.a.get("http://localhost:800/all_flask").then((e=>this.result=e)),result_work:"",show_all:!0,show_search:!1,show:!1,show_give:!1,show_get:!1,columns:[{name:"device_id_base",required:!0,label:"Флешка",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-primary text-white"},{name:"device_path_base",align:"center",label:"Файлы txt",field:"device_path_base",sortable:!0},{name:"device_reg_base",align:"center",label:"Файлы reg",field:"device_reg_base",sortable:!0},{name:"date_in_base",align:"center",label:"Дата введения",field:"date_in_base",sortable:!0},{name:"date_out_base",align:"center",label:"Дата выдачи",field:"date_out_base",sortable:!0},{name:"fio_base",align:"center",label:"Сотрудник",field:"fio_base",sortable:!0},{name:"tabnum_base",align:"center",label:"Табельный номер",field:"tabnum_base",sortable:!0},{name:"department_base",align:"center",label:"Департамент",field:"department_base",sortable:!0}]}},methods:{add_flask(e,t){let a=new FormData;a.append("file",e),a.append("file",t),s.a.post("http://localhost:800/upload_file",date,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>this.result_work=e))},get_flask(e){s.a.delete("http://localhost:800/get_flask?device_id="+e,{}).then((e=>this.result_work=e))},give_flask(e,t,a,i){s.a.put("http://localhost:800/give_flask?device_id="+e+"&fio="+t+"&tabnum="+a+"&department="+i,{}).then((e=>this.result_work=e))},search_device_fio(e){s.a.get("http://localhost:800/name_flask?fio="+e,{}).then((e=>this.result=e))},search_device_tabnum(e){s.a.get("http://localhost:800/tabnum_flask?tabnum="+e,{}).then((e=>this.result=e))},search_device_id(e){s.a.get("http://localhost:800/id_flask?device_id="+e,{}).then((e=>this.result=e))},search_date(e){s.a.get("http://localhost:800/date_flask?device_id="+e,{}).then((e=>this.result=e))},search_off(){s.a.get("http://localhost:800/off_flask",{}).then((e=>this.result=e))}}},c=o,r=a("2877"),d=a("4d5a"),f=a("e359"),u=a("65c6"),_=a("6ac5"),b=a("09e3"),h=a("9c40"),p=a("27f9"),m=a("0016"),g=a("eaac"),v=a("eebe"),w=a.n(v),x=Object(r["a"])(c,i,l,!1,null,null,null);t["default"]=x.exports;w()(x,"components",{QLayout:d["a"],QHeader:f["a"],QToolbar:u["a"],QToolbarTitle:_["a"],QPageContainer:b["a"],QBtn:h["a"],QInput:p["a"],QIcon:m["a"],QTable:g["a"]})},"75e0":function(e,t,a){e.exports=a.p+"img/logo_niti.9aa8f539.svg"}}]);